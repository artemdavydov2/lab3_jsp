# Веб-застосунок "Метрики Проєктів"

Простий веб-застосунок, який створений для демонстрації роботи з JSF, PrimeFaces та JPA.  
Застосунок надає користувацький інтерфейс для виконання базових операцій над записами про проєкти, що зберігаються в базі даних (створення, перегляд, редагування, видалення).

## Структура проєкту

Проєкт організовано за принципом розділення відповідальності на три основні пакети:

* `org.example.lab3.data`: містить Entity-класи. Це Java-класи, що є відображенням структури таблиць у базі даних.
* `org.example.lab3.dao`: містить класи DAO або Data Access Object. Ці класи інкапсулюють всю логіку взаємодії з базою даних.
* `org.example.lab3.service`: містить JSF керовані біни або Managed Beans. Це так звані "мости" між веб-сторінками та бізнес-логікою .

## Опис компонентів

### 1. `data/ProjectMetric.java`

Це JPA Entity‑клас, який описує таблицю `project_metrics` в базі даних.

* **Анотації:** `@Entity` позначає клас як сутність JPA. `@Table` вказує назву таблиці. `@Id` та `@GeneratedValue` налаштовують первинний ключ з автоінкрементом. `@Column` дозволяє налаштовувати параметри колонок.
* **Поля:** `id`, `projectName`, `projectUrl`, `projectBudget`, `releaseDate` відповідають за колонки в таблиці бази даних і зберігають інформацію про основні метрики проєкту.
* **Методи:** містить стандартні `getters` та `setters` для доступу до полів, а також перевизначені `equals` та `hashCode`, які порівнюють сутності за `id`.

### 2. `dao/ProjectMetricDao.java`

Клас доступу до даних, який виконує всі операції з базою даних, що стосуються проєктів.

* `create(ProjectMetric projectMetric)`: зберігає новий об’єкт `ProjectMetric` у базі даних.
* `update(ProjectMetric projectMetric)`: оновлює існуючий запис у базі даних через `EntityManager.merge`.
* `delete(Integer id)`: знаходить запис за його `id` і видаляє його з бази даних.
* `findById(Integer id)`: повертає один запис за первинним ключем, або `null`, якщо запис не знайдено.
* `findAll()`: повертає список усіх проєктів з бази даних, відсортованих за ідентифікатором проєкту у порядку зростання.

### 3. `service/ProjectBean.java`

JSF керований бін, який є ніби "мозком" для веб‑сторінки `index.xhtml` і координує роботу форми та таблиці.

* `init()`: метод, що викликається автоматично після створення біна. Завантажує початковий список проєктів з бази даних і створює порожній об’єкт `newProject` для форми.
* `save()`: метод, що викликається при натисканні на кнопку "Зберегти" у формі. Якщо `newProject.getId() == null`, створює новий запис через `create(...)`; якщо `id` не `null`, оновлює існуючий запис через `update(...)`. Після цього оновлює список `projects` і скидає `newProject` у новий порожній об’єкт.
* `edit(ProjectMetric project)`: метод, що викликається кнопкою редагування у рядку таблиці. Підставляє вибраний проєкт у `newProject`, щоб його дані з’явилися у формі зверху для редагування.
* `delete(Integer projectId)`: викликається при натисканні на кнопку видалення для конкретного проєкту. Передає `id` у `ProjectMetricDao.delete(...)` і після видалення повторно завантажує список `projects`.
* `getProjects() / getNewProject() / setNewProject(...)`: гетери та сетери, що надають сторінці доступ до списку проєктів та поточного об’єкта форми.

### 4. `webapp/index.xhtml`

Це основна веб‑сторінка застосунку, написана з використанням JSF та PrimeFaces, яка складається з двох основних частин: форми додавання/редагування та таблиці проєктів.

#### Форма додавання / редагування проєкту

* Розміщена всередині панелі PrimeFaces `<p:panel>` із заголовком по типу "Додати / редагувати проєкт`.
* Містить поля для введення даних:
    * `<p:inputText>` для назви проєкту.
    * `<p:inputText>` для URL проєкту.
    * `<p:inputNumber>` для бюджету з валютою та розділювачами.
    * `<p:calendar>` для дати релізу з шаблоном `dd.MM.yyyy`.
* Кнопка "Зберегти" реалізована через `<p:commandButton>`, який викликає `#{projectBean.save}` та оновлює форму й таблицю.

#### Таблиця з існуючими проєктами

* Реалізована за допомогою компонента PrimeFaces `<p:dataTable>` зі змінною рядка `var="project"` та джерелом даних `value="#{projectBean.projects}"`.
* Містить колонки (`<p:column>`) для полів:
    * ID проєкту,
    * Назву проєкту,
    * URL проєкту,
    * Бюджет проєкту,
    * дата релізу проєкту.
* Остання колонка "Дії" містить дві кнопки на кожен рядок:
    * Кнопка редагування з іконкою олівця, яка викликає `#{projectBean.edit(project)}` і оновлює форму додавання/редагування, підставляючи вибраний проєкт у поля форми.
    * Кнопка видалення з іконкою смітника, яка викликає `#{projectBean.delete(project.id)}` і оновлює таблицю, з діалогом підтвердження через `<p:confirm>` та глобальний `<p:confirmDialog>`.
* Якщо в базі немає жодного запису, таблиця відображає повідомлення `emptyMessage="Не знайдено жодного проєкту"`.
