# Веб-застосунок "Метрики Проєктів"

Простий веб-застосунок, який створений для демонстрації роботи з JSF, PrimeIcons та JPA .
Застосунок надає користувацький інтерфейс для виконання базових операцій над записами про проєкти, що зберігаються в базі даних.

## Структура проєкту

Проєкт організовано за принципом розділення відповідальності на три основні пакети:

*   `org.example.lab3.data`: Містить Entity-класи. Це Java-класи, що є точним відображенням структури таблиць у базі даних (модель даних).
*   `org.example.lab3.dao`: Містить класи DAO (Data Access Object). Ці класи інкапсулюють всю логіку взаємодії з базою даних (запити `SELECT`, `INSERT`, `DELETE` тощо).
*   `org.example.lab3.service`: Містить JSF керовані біни (Managed Beans). Це "мости" між веб-сторінками (`.xhtml`) та бізнес-логікою (DAO).

## Опис компонентів

### 1. `data/ProjectMetric.java`

Це JPA Entity-клас, який описує таблицю `project_metrics` в базі даних.

*   **Анотації:** `@Entity` позначає клас як сутність JPA. `@Table` вказує, з якою таблицею він пов'язаний. `@Id` та `@GeneratedValue` налаштовують первинний ключ з автоінкрементом. `@Column` дозволяє налаштувати параметри колонок (назву, довжину, тощо).
*   **Поля:** Кожне поле класу (`id`, `projectName`, `projectUrl`, `projectBudget`, `releaseDate`) відповідає за одну колонку в таблиці бази даних.
*   **Методи:** Стандартні `getters` та `setters` для надання доступу до полів класу.

### 2. `dao/ProjectMetricDao.java`

Клас для доступу до даних, який виконує всі операції з базою даних, що стосуються проєктів.

*   **`create(ProjectMetric projectMetric)`:** Зберігає новий об'єкт `ProjectMetric` в базі даних (виконує `INSERT`).
*   **`update(ProjectMetric projectMetric)`:** Оновлює існуючий запис в базі даних.
*   **`delete(Integer id)`:** Знаходить запис за його `id` і видаляє його з бази даних.
*   **`findById(Integer id)`:** Знаходить і повертає один запис за його первинним ключем.
*   **`findAll()`:** Повертає список всіх проєктів з бази даних, відсортованих за ідентифікаторо проєкту у порядку зростання.

### 3. `service/ProjectBean.java`

JSF керований бін, який є "мозком" для веб-сторінки `index.xhtml`.

*   **`init()`:** Метод, що викликається автоматично після створення біна. Він завантажує початковий список проєктів з бази даних та створює порожній об'єкт `newProject` для форми додавання.
*   **`save()`:** Метод, що викликається при натисканні на кнопку "Зберегти". Він передає дані з форми в `ProjectMetricDao` для збереження, після чого оновлює список проєктів на сторінці та очищує форму.
*   **`delete(Integer projectId)`:** Викликається при натисканні на кнопку видалення для конкретного проєкту. Передає `id` проєкту в `ProjectMetricDao` для видалення і оновлює таблицю.
*   **Getters/Setters:** Надають доступ до списку `projects` (для таблиці) та об'єкта `newProject` (для полів форми) зі сторінки `index.xhtml`.

### 4. `webapp/index.xhtml`

Це єдина веб-сторінка застосунку, написана з використанням тегів JSF та PrimeFaces, яка складається з двох основних частин:

*   **Форма для додавання нового проєкту:**
    *   Розміщена всередині панелі PrimeFaces (`<p:panel>`) для кращої візуалізації.
    *   Містить поля для введення даних (`<p:inputText>`, `<p:inputNumber>`, `<p:calendar>`), кожне з яких прив'язане до відповідного поля об'єкта `newProject` з `ProjectBean`.
    *   Має кнопку "Зберегти" (`<p:commandButton>`), яка при натисканні викликає метод `save()` в `ProjectBean` і оновлює як саму форму, так і таблицю з даними.
    *   Включає область для повідомлень (`<p:messages>`), де відображаються сповіщення про успішне додавання або видалення.

*   **Таблиця з існуючими проєктами:**
    *   Реалізована за допомогою потужного компонента PrimeFaces `<p:dataTable>`.
    *   Отримує список проєктів для відображення зі `списку projects` в `ProjectBean`.
    *   Має колонки (`<p:column>`) для кожного поля проєкту (ID, Назва, URL, Бюджет, Дата релізу).
    *   Для колонки з датою використовується конвертер (`<f:convertDateTime type="localDate">`), щоб коректно відображати об'єкти типу `LocalDate`.
    *   Остання колонка містить кнопку "Видалити", яка для кожного рядка викликає метод `delete()` з `id` відповідного проєкту. 
    *   Для безпеки і зручності використання перед видаленням з'являється діалогове вікно підтвердження.